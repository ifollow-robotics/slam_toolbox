<launch>

  <!-- <node name="map_server" pkg="map_server" type="map_server" args="map.yaml">
    <param name="frame_id" value="$(optenv ROBOT_ID robot_0)/map" />
  </node> -->

  <!-- <param name="/use_sim_time" value="true" /> -->
  <arg name="existing_map"/>

  <arg name="map_path" value="$(find environments)/$(env ROBOT_VER)/$(env RUN_TYPE)/$(env ROBOT_ENV)/map/$(arg existing_map)"/>

  <node pkg="slam_toolbox" type="localization_slam_toolbox_node" name="slam_toolbox" output="screen">
    <param name="odom_frame" value="$(optenv ROBOT_ID robot_0)/odom" />
    <param name="base_frame" value="$(optenv ROBOT_ID robot_0)/base_link" />
    <param name="map_frame" value="$(optenv ROBOT_ID robot_0)/map"/>
    <param name="map_file_name" value="$(arg map_path)"/>
    <rosparam command="load" file="$(find slam_toolbox)/config/mapper_params_localization.yaml" />
  </node>

</launch>
