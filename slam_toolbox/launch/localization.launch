<launch>

  <!-- <node name="map_server" pkg="map_server" type="map_server" args="map.yaml">
    <param name="frame_id" value="$(optenv ROBOT_ID robot_0)/map" />
  </node> -->

  <arg name="run_type" default="reality"/>

  <arg name="map_path" value="$(find environments)/$(env ROBOT_VER)/$(arg run_type)/$(env ROBOT_ENV)/map/map_$(env ROBOT_ENV)"/>

  <node pkg="slam_toolbox" type="localization_slam_toolbox_node" name="slam_toolbox" output="screen" clear_params="true">
    <param name="odom_frame" value="$(optenv ROBOT_ID robot_0)/odom" />
    <param name="base_frame" value="$(optenv ROBOT_ID robot_0)/base_link" />
    <param name="map_frame" value="$(optenv ROBOT_ID robot_0)/map"/>
    <param name="map_file_name" value="$(arg map_path)"/>
    <rosparam command="load" file="$(find slam_toolbox)/config/mapper_params_localization.yaml" />
  </node>

</launch>
